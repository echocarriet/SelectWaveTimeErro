import{N as f,a as g,D as x}from"./NavbarVote-W6H5zOSq.js";import{N as y,_}from"./NavbarEl-7k7vrMIn.js";import{_ as v,c as w,a as n,d as e,k as m,v as k,m as $,F as M,r as l,o as N}from"./index-AwWZSqUl.js";const C={components:{Navbar:y,NavbarBackend:f,NavbarVote:g,ComponentFooter:_,DelModal:x},data(){return{delContent:"「此帳號後，需重新建立帳號」",memberId:"",socialMedia:[{type:"Facebook",id:""},{type:"Instagram",id:""},{type:"YouTube",id:""},{type:"個人網站",id:""}],memberPerson:{follwing:[],followers:[],socialMedia:[],likedPolls:[]}}},methods:{getToken(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)selectWaveToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=s,this.$http.get("https://select-wave-backend.onrender.com/api/auth/check",{headers:{Authorization:s}}).then(o=>{if(o.data.status){console.log(o);const{_id:i}=o.data.result;this.memberId=i,this.getMemberInfo(this.memberId)}else this.$swal({title:"登入失敗，請重新登入"}),this.$router.push("/login")}).catch(o=>{this.$swal({title:`${o.response.data.message}`})})},getMemberInfo(s){const t=`https://select-wave-backend.onrender.com/api/member/${s}`;this.$http.get(t).then(o=>{this.memberPerson=o.data.result,console.log(this.memberPerson)}).catch(o=>{console.log(o),this.$swal({title:`${o.response.data.message}`})})},updateMember(){this.$http.put("https://select-wave-backend.onrender.com/api/member/").then(t=>{console.log(t),this.getMemberInfo(this.memberId),this.$swal({title:`${t.data.message}`})}).catch(t=>{console.log(t),this.$swal({title:`${t.response.data.message}`})})}},mounted(){this.getToken()}},I={class:"max-w-screen-lg mx-auto px-3"},P={class:"outline outline-1 outline-gray-3 rounded-2xl md:rounded-3xl py-11 px-5 mb-10"},V={class:"flex justify-between mb-7 md:mb-8 max-w-3xl mx-auto"},D=e("button",{type:"button",class:"px-6 py-3 flex items-center justify-center rounded-full bg-white text-gray-1 text-base font-medium outline outline-2 outline-gray-1 hover:outline-primary hover:text-primary"}," 換成頭像 ",-1),B={class:"mb-4"},F=e("label",{for:"name",class:"block mb-2 text-base font-medium text-gray-1"},"名稱",-1),T={class:"mb-4"},U=e("label",{for:"sex",class:"block mb-2 text-base font-medium text-gray-1"},"性別",-1),j=e("option",{value:"",selected:"",disabled:""},"請選擇性別",-1),A=e("option",{value:"male"},"男",-1),z=e("option",{value:"female"},"女",-1),S=e("option",{value:"x"},"不方便透露",-1),E=[j,A,z,S],W=e("div",{class:"mb-4"},[e("label",{for:"birthday",class:"block mb-2 text-base font-medium text-gray-1"},"生日"),e("input",{type:"date",id:"birthday",class:"bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4"})],-1),Y=e("button",{type:"submit",class:"text-white bg-gray-1 hover:bg-primary focus:ring-4 focus:outline-none focus:ring-primary-light font-medium rounded-full text-base w-full sm:w-auto px-5 py-2.5 text-center"}," 更新 ",-1);function q(s,t,o,i,r,d){const c=l("Navbar"),u=l("NavbarBackend"),b=l("NavbarVote"),p=l("DelModal"),h=l("ComponentFooter");return N(),w(M,null,[n(c),n(u),n(b),e("div",I,[e("div",P,[e("div",V,[D,e("button",{type:"button",class:"px-6 py-3 flex items-center justify-center rounded-full border-2 border-gray-1 bg-white text-gray-1 text-base font-medium hover:text-primary hover:border-primary",onClick:t[0]||(t[0]=a=>s.$refs.DelModal.openModal())}," 刪除帳號 ")]),e("form",{class:"max-w-3xl mx-auto",onSubmit:t[3]||(t[3]=(...a)=>d.updateMember&&d.updateMember(...a))},[e("div",B,[F,m(e("input",{type:"text",id:"name",class:"bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4","onUpdate:modelValue":t[1]||(t[1]=a=>r.memberPerson.name=a)},null,512),[[k,r.memberPerson.name]])]),e("div",T,[U,m(e("select",{id:"sex",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4","onUpdate:modelValue":t[2]||(t[2]=a=>r.memberPerson.gender=a)},E,512),[[$,r.memberPerson.gender]])]),W,Y],32)])]),n(p,{ref:"DelModal",delContent:r.delContent},null,8,["delContent"]),n(h)],64)}const K=v(C,[["render",q]]);export{K as default};
