import{N as _,a as v,D as k}from"./NavbarVote-jTFB73Zv.js";import{N as w,_ as M}from"./NavbarEl-Nj4zWQim.js";import{_ as N,c as d,a,d as e,k as b,v as $,m as U,F as u,e as V,b as C,t as p,g as D,r as n,o as c}from"./index-PZxk90S3.js";const F={components:{Navbar:w,NavbarBackend:_,NavbarVote:v,ComponentFooter:M,DelModal:k},data(){return{delContent:"「此帳號後，需重新建立帳號」",socialMedia:[{type:"twitter",id:"johndoe"},{type:"faacebook",id:"Fb-johndoe"},{type:"ig",id:""}],member:{follwing:[],followers:[],socialMedia:[],likedPolls:[]}}},methods:{getToken(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)selectWaveToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=s,this.$http.get("https://select-wave-backend.onrender.com/api/auth/check",{headers:{Authorization:s}}).then(o=>{if(o.data.status){console.log(o);const{_id:m}=o.data.result,t=m;this.getMemberInfo(t)}else this.$swal({title:"登入失敗，請重新登入"}),this.$router.push("/login")}).catch(o=>{this.$swal({title:`${o.response.data.message}`})})},getMemberInfo(s){const r=`https://select-wave-backend.onrender.com/api/member/${s}`;this.$http.get(r).then(o=>{this.member=o.data.result,console.log(this.member)}).catch(o=>{console.log(o),this.$swal({title:`${o.response.data.message}`})})}},mounted(){this.getToken()}},B={class:"max-w-screen-lg mx-auto px-3"},T={class:"outline outline-1 outline-gray-3 rounded-2xl md:rounded-3xl py-11 px-5 mb-10"},j={class:"flex justify-between mb-7 md:mb-8 max-w-3xl mx-auto"},I=e("button",{type:"button",class:"px-6 py-3 flex items-center justify-center rounded-full bg-white text-gray-1 text-base font-medium outline outline-2 outline-gray-1 hover:outline-primary hover:text-primary"}," 換成頭像 ",-1),A={class:"max-w-3xl mx-auto"},S={class:"mb-4"},z=e("label",{for:"name",class:"block mb-2 text-base font-medium text-gray-1"},"名稱",-1),E={class:"mb-4"},L=e("label",{for:"sex",class:"block mb-2 text-base font-medium text-gray-1"},"性別",-1),P=e("option",{value:"",selected:""},"請選擇性別",-1),W=e("option",{value:"male"},"男",-1),Y=e("option",{value:"female"},"女",-1),q=e("option",{value:"x"},"不方便透露",-1),G=[P,W,Y,q],H=e("div",{class:"mb-4"},[e("label",{for:"birthday",class:"block mb-2 text-base font-medium text-gray-1"},"生日"),e("input",{type:"date",id:"birthday",class:"bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4"})],-1),J=e("hr",null,null,-1),K={class:"mb-4"},O={for:"facebookUrl",class:"block mb-2 text-base font-medium text-gray-1"},Q=["value"],R=D('<hr><div class="mb-4"><label for="facebookUrl" class="block mb-2 text-base font-medium text-gray-1">Facebook 社群連結</label><input type="url" id="facebookUrl" class="bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4" placeholder="請填入社群網址"></div><div class="mb-4"><label for="instagramUrl" class="block mb-2 text-base font-medium text-gray-1">Instagram 社群連結</label><input type="url" id="instagramUrl" class="bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4" placeholder="請填入社群網址"></div><div class="mb-4"><label for="youtubeUrl" class="block mb-2 text-base font-medium text-gray-1">YouTube 社群連結</label><input type="url" id="youtubeUrl" class="bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4" placeholder="請填入社群網址"></div><div class="mb-6"><label for="personalUrl" class="block mb-2 text-base font-medium text-gray-1">個人網站連結</label><input type="url" id="personalUrl" class="bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4" placeholder="請填入社群網址"></div><button type="submit" class="text-white bg-gray-1 hover:bg-primary focus:ring-4 focus:outline-none focus:ring-primary-light font-medium rounded-full text-base w-full sm:w-auto px-5 py-2.5 text-center"> 更新 </button>',6);function X(s,r,o,m,t,Z){const f=n("Navbar"),y=n("NavbarBackend"),h=n("NavbarVote"),g=n("DelModal"),x=n("ComponentFooter");return c(),d(u,null,[a(f),a(y),a(h),e("div",B,[e("div",T,[e("div",j,[I,e("button",{type:"button",class:"px-6 py-3 flex items-center justify-center rounded-full border-2 border-gray-1 bg-white text-gray-1 text-base font-medium hover:text-primary hover:border-primary",onClick:r[0]||(r[0]=l=>s.$refs.DelModal.openModal())}," 刪除帳號 ")]),e("form",A,[e("div",S,[z,b(e("input",{type:"text",id:"name",class:"bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4","onUpdate:modelValue":r[1]||(r[1]=l=>t.member.name=l)},null,512),[[$,t.member.name]])]),e("div",E,[L,b(e("select",{id:"sex",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4","onUpdate:modelValue":r[2]||(r[2]=l=>t.member.gender=l)},G,512),[[U,t.member.gender]])]),H,J,e("div",K,[(c(!0),d(u,null,V(t.socialMedia,(l,i)=>(c(),d("div",{key:i,class:"mb-4"},[e("label",O,p(t.socialMedia[i].type)+" 社群連結 ",1),e("input",{type:"url",value:t.socialMedia[i].type===l.type?`${t.socialMedia[i].id}`:"請填入社群網址",class:"bg-white border border-gray-3 text-sm rounded-full focus:ring-primary focus:border-primary block w-full px-3 py-4 mb-2",placeholder:"請填入社群網址"},null,8,Q)]))),128))]),R])])]),C(" "+p(t.member.gender)+" ",1),a(g,{ref:"DelModal",delContent:t.delContent},null,8,["delContent"]),a(x)],64)}const re=N(F,[["render",X]]);export{re as default};
